import{d as q,r as y,u as K,c as m,a as l,b as e,h as X,w as a,e as d,l as T,f as r,g as G,i as c,o as u,t as x,j as w,v as k,F as V,k as j,m as H}from"./app-CP1-r0BK.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-VNpVqBxi.js";import{_ as C,a as U}from"./CardContent.vue_vue_type_script_setup_true_lang-CtDX4IYL.js";import{_ as B,a as A}from"./CardTitle.vue_vue_type_script_setup_true_lang-B3wlGP_E.js";import{_ as v}from"./index-DjTBur_r.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-juG8Vjrp.js";import{_ as i}from"./Label.vue_vue_type_script_setup_true_lang-DVwlMnRU.js";import{_ as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-DhBZUUqI.js";import{A as Q}from"./arrow-left-ouJZ_71H.js";import{X as S}from"./x-CrZJWNU5.js";import"./utils-DeuSH4bP.js";import"./index--o4npdfR.js";import"./VisuallyHidden-C_2pfeLD.js";import"./useForwardExpose-BJ4IusGi.js";import"./useForwardPropsEmits-Ci4uCAMk.js";import"./index-4t0c7qAK.js";import"./createLucideIcon-ChUeGeV6.js";import"./globe-DmCuXhUi.js";import"./file-text-CaCxU_Dl.js";import"./calendar-CyO_6aHN.js";import"./check-BvjNkrB1.js";const W={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4"},Y={class:"flex items-center justify-between"},Z={class:"grid gap-6"},ee={class:"grid gap-2"},te={key:0,class:"text-sm text-destructive"},le={class:"grid gap-2"},se={key:0,class:"text-sm text-destructive"},ae={class:"grid gap-2"},oe={class:"grid gap-2"},de={key:0,class:"text-sm text-destructive"},re={class:"grid gap-2"},ie={key:0,class:"relative"},ue=["src"],ne={key:1},me={key:2,class:"text-sm text-destructive"},pe={class:"grid gap-4 md:grid-cols-2"},ge={class:"grid gap-2"},fe={class:"grid gap-2"},_e={class:"grid gap-2"},ce={class:"grid gap-2"},ve={class:"space-y-2"},xe={class:"grid gap-2"},ye={key:0,class:"grid grid-cols-2 gap-4 md:grid-cols-4"},be=["src","alt"],he={key:1,class:"text-sm text-destructive"},we={class:"flex items-center gap-4"},ke={class:"flex items-center gap-2"},Ve={class:"flex items-center gap-2"},Ce={class:"grid gap-2"},Ue={class:"grid gap-2"},Be={class:"grid gap-2"},Ae={class:"flex items-center justify-end gap-4"},We=q({__name:"Create",setup(Fe){const D=[{title:"Dashboard",href:"/cp/dashboard"},{title:"Blogs",href:"/cp/blogs"},{title:"Create",href:"#"}],_=y([""]),P=()=>{_.value.push("")},E=p=>{_.value.splice(p,1)},F=y(null),b=y(null),I=y([]),h=y([]),s=K({title:"",slug:"",excerpt:"",content:"",featured_image:null,images:[],author:"",published_at:"",is_published:!1,is_featured:!1,category:"",tags:[],meta_title:"",meta_description:"",meta_keywords:""}),z=p=>{const t=p.target;if(t.files&&t.files[0]){F.value=t.files[0],s.featured_image=t.files[0];const o=new FileReader;o.onload=n=>{var f;b.value=(f=n.target)==null?void 0:f.result},o.readAsDataURL(t.files[0])}},L=()=>{F.value=null,b.value=null,s.featured_image=null},N=p=>{const t=p.target;t.files&&Array.from(t.files).forEach(o=>{I.value.push(o),s.images.push(o);const n=new FileReader;n.onload=f=>{var $;h.value.push(($=f.target)==null?void 0:$.result)},n.readAsDataURL(o)})},R=p=>{I.value.splice(p,1),h.value.splice(p,1),s.images.splice(p,1)},O=()=>{s.tags=_.value.filter(p=>p.trim()!==""),s.post("/cp/blogs",{preserveScroll:!0,forceFormData:!0})};return(p,t)=>(u(),m(V,null,[l(e(X),{title:"Create Blog Post"}),l(J,{breadcrumbs:D},{default:a(()=>[d("div",W,[d("div",Y,[t[13]||(t[13]=d("div",null,[d("h1",{class:"text-2xl font-bold"},"Create Blog Post"),d("p",{class:"text-muted-foreground"},"Add a new blog post to your system")],-1)),l(e(v),{variant:"outline","as-child":""},{default:a(()=>[l(e(T),{href:"/cp/blogs"},{default:a(()=>[l(e(Q),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=r(" Back ",-1))]),_:1})]),_:1})]),d("form",{onSubmit:G(O,["prevent"])},[d("div",Z,[l(e(C),null,{default:a(()=>[l(e(B),null,{default:a(()=>[l(e(A),null,{default:a(()=>[...t[14]||(t[14]=[r("Basic Information",-1)])]),_:1})]),_:1}),l(e(U),{class:"space-y-4"},{default:a(()=>[d("div",ee,[l(e(i),{for:"title"},{default:a(()=>[...t[15]||(t[15]=[r("Title *",-1)])]),_:1}),l(e(g),{id:"title",modelValue:e(s).title,"onUpdate:modelValue":t[0]||(t[0]=o=>e(s).title=o),required:"",placeholder:"Blog Post Title"},null,8,["modelValue"]),e(s).errors.title?(u(),m("p",te,x(e(s).errors.title),1)):c("",!0)]),d("div",le,[l(e(i),{for:"slug"},{default:a(()=>[...t[16]||(t[16]=[r("Slug",-1)])]),_:1}),l(e(g),{id:"slug",modelValue:e(s).slug,"onUpdate:modelValue":t[1]||(t[1]=o=>e(s).slug=o),placeholder:"blog-post-slug (auto-generated if empty)"},null,8,["modelValue"]),e(s).errors.slug?(u(),m("p",se,x(e(s).errors.slug),1)):c("",!0)]),d("div",ae,[l(e(i),{for:"excerpt"},{default:a(()=>[...t[17]||(t[17]=[r("Excerpt",-1)])]),_:1}),w(d("textarea",{id:"excerpt","onUpdate:modelValue":t[2]||(t[2]=o=>e(s).excerpt=o),rows:"3",class:"min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"Short excerpt or summary"},null,512),[[k,e(s).excerpt]])]),d("div",oe,[l(e(i),{for:"content"},{default:a(()=>[...t[18]||(t[18]=[r("Content *",-1)])]),_:1}),w(d("textarea",{id:"content","onUpdate:modelValue":t[3]||(t[3]=o=>e(s).content=o),required:"",rows:"12",class:"min-h-[240px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"Blog post content"},null,512),[[k,e(s).content]]),e(s).errors.content?(u(),m("p",de,x(e(s).errors.content),1)):c("",!0)])]),_:1})]),_:1}),l(e(C),null,{default:a(()=>[l(e(B),null,{default:a(()=>[l(e(A),null,{default:a(()=>[...t[19]||(t[19]=[r("Media & Metadata",-1)])]),_:1})]),_:1}),l(e(U),{class:"space-y-4"},{default:a(()=>[d("div",re,[l(e(i),{for:"featured_image"},{default:a(()=>[...t[20]||(t[20]=[r("Featured Image",-1)])]),_:1}),b.value?(u(),m("div",ie,[d("img",{src:b.value,alt:"Featured image preview",class:"h-48 w-full rounded-lg object-cover"},null,8,ue),l(e(v),{type:"button",variant:"destructive",size:"icon",class:"absolute right-2 top-2",onClick:L},{default:a(()=>[l(e(S),{class:"h-4 w-4"})]),_:1})])):(u(),m("div",ne,[l(e(g),{id:"featured_image",type:"file",accept:"image/*",onChange:z}),t[21]||(t[21]=d("p",{class:"mt-1 text-xs text-muted-foreground"}," Upload a featured image (max 2MB, jpeg, png, jpg, gif, webp) ",-1))])),e(s).errors.featured_image?(u(),m("p",me,x(e(s).errors.featured_image),1)):c("",!0)]),d("div",pe,[d("div",ge,[l(e(i),{for:"author"},{default:a(()=>[...t[22]||(t[22]=[r("Author",-1)])]),_:1}),l(e(g),{id:"author",modelValue:e(s).author,"onUpdate:modelValue":t[4]||(t[4]=o=>e(s).author=o),placeholder:"Author name"},null,8,["modelValue"])]),d("div",fe,[l(e(i),{for:"category"},{default:a(()=>[...t[23]||(t[23]=[r("Category",-1)])]),_:1}),l(e(g),{id:"category",modelValue:e(s).category,"onUpdate:modelValue":t[5]||(t[5]=o=>e(s).category=o),placeholder:"Blog category"},null,8,["modelValue"])]),d("div",_e,[l(e(i),{for:"published_at"},{default:a(()=>[...t[24]||(t[24]=[r("Published Date",-1)])]),_:1}),l(e(g),{id:"published_at",modelValue:e(s).published_at,"onUpdate:modelValue":t[6]||(t[6]=o=>e(s).published_at=o),type:"date"},null,8,["modelValue"])])]),d("div",ce,[l(e(i),null,{default:a(()=>[...t[25]||(t[25]=[r("Tags",-1)])]),_:1}),d("div",ve,[(u(!0),m(V,null,j(_.value,(o,n)=>(u(),m("div",{key:n,class:"flex gap-2"},[l(e(g),{modelValue:_.value[n],"onUpdate:modelValue":f=>_.value[n]=f,placeholder:"Tag name"},null,8,["modelValue","onUpdate:modelValue"]),_.value.length>1?(u(),H(e(v),{key:0,type:"button",variant:"outline",size:"icon",onClick:f=>E(n)},{default:a(()=>[...t[26]||(t[26]=[r(" Ã— ",-1)])]),_:1},8,["onClick"])):c("",!0)]))),128)),l(e(v),{type:"button",variant:"outline",size:"sm",onClick:P},{default:a(()=>[...t[27]||(t[27]=[r(" + Add Tag ",-1)])]),_:1})])]),d("div",xe,[l(e(i),null,{default:a(()=>[...t[28]||(t[28]=[r("Additional Images",-1)])]),_:1}),h.value.length>0?(u(),m("div",ye,[(u(!0),m(V,null,j(h.value,(o,n)=>(u(),m("div",{key:n,class:"relative"},[d("img",{src:o,alt:`Image ${n+1}`,class:"h-32 w-full rounded-lg object-cover"},null,8,be),l(e(v),{type:"button",variant:"destructive",size:"icon",class:"absolute right-2 top-2",onClick:f=>R(n)},{default:a(()=>[l(e(S),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))])):c("",!0),l(e(g),{id:"additional_images",type:"file",accept:"image/*",multiple:"",onChange:N}),t[29]||(t[29]=d("p",{class:"text-xs text-muted-foreground"}," Upload additional images (max 2MB each, jpeg, png, jpg, gif, webp) ",-1)),e(s).errors.images?(u(),m("p",he,x(e(s).errors.images),1)):c("",!0)]),d("div",we,[d("div",ke,[l(e(M),{id:"is_published",checked:e(s).is_published,"onUpdate:checked":t[7]||(t[7]=o=>e(s).is_published=o)},null,8,["checked"]),l(e(i),{for:"is_published"},{default:a(()=>[...t[30]||(t[30]=[r("Published",-1)])]),_:1})]),d("div",Ve,[l(e(M),{id:"is_featured",checked:e(s).is_featured,"onUpdate:checked":t[8]||(t[8]=o=>e(s).is_featured=o)},null,8,["checked"]),l(e(i),{for:"is_featured"},{default:a(()=>[...t[31]||(t[31]=[r("Featured",-1)])]),_:1})])])]),_:1})]),_:1}),l(e(C),null,{default:a(()=>[l(e(B),null,{default:a(()=>[l(e(A),null,{default:a(()=>[...t[32]||(t[32]=[r("SEO Settings",-1)])]),_:1})]),_:1}),l(e(U),{class:"space-y-4"},{default:a(()=>[d("div",Ce,[l(e(i),{for:"meta_title"},{default:a(()=>[...t[33]||(t[33]=[r("Meta Title",-1)])]),_:1}),l(e(g),{id:"meta_title",modelValue:e(s).meta_title,"onUpdate:modelValue":t[9]||(t[9]=o=>e(s).meta_title=o),placeholder:"SEO meta title"},null,8,["modelValue"])]),d("div",Ue,[l(e(i),{for:"meta_description"},{default:a(()=>[...t[34]||(t[34]=[r("Meta Description",-1)])]),_:1}),w(d("textarea",{id:"meta_description","onUpdate:modelValue":t[10]||(t[10]=o=>e(s).meta_description=o),rows:"3",class:"min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"SEO meta description"},null,512),[[k,e(s).meta_description]])]),d("div",Be,[l(e(i),{for:"meta_keywords"},{default:a(()=>[...t[35]||(t[35]=[r("Meta Keywords",-1)])]),_:1}),l(e(g),{id:"meta_keywords",modelValue:e(s).meta_keywords,"onUpdate:modelValue":t[11]||(t[11]=o=>e(s).meta_keywords=o),placeholder:"keyword1, keyword2, keyword3"},null,8,["modelValue"])])]),_:1})]),_:1}),d("div",Ae,[l(e(v),{type:"button",variant:"outline","as-child":""},{default:a(()=>[l(e(T),{href:"/cp/blogs"},{default:a(()=>[...t[36]||(t[36]=[r("Cancel",-1)])]),_:1})]),_:1}),l(e(v),{type:"submit",disabled:e(s).processing},{default:a(()=>[r(x(e(s).processing?"Creating...":"Create Blog Post"),1)]),_:1},8,["disabled"])])])],32)])]),_:1})],64))}});export{We as default};
