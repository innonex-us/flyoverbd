import{d as H,r as v,u as X,c as u,a as s,b as e,h as G,w as r,e as a,l as F,f as d,g as J,i as _,o as m,t as c,j as x,v as y,F as M,k as S}from"./app-CP1-r0BK.js";import{_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-VNpVqBxi.js";import{_ as w,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-CtDX4IYL.js";import{_ as k,a as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-B3wlGP_E.js";import{_ as h}from"./index-DjTBur_r.js";import{_ as p}from"./Input.vue_vue_type_script_setup_true_lang-juG8Vjrp.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-DVwlMnRU.js";import{_ as B}from"./Checkbox.vue_vue_type_script_setup_true_lang-DhBZUUqI.js";import{A as Y}from"./arrow-left-ouJZ_71H.js";import{X as E}from"./x-CrZJWNU5.js";import"./utils-DeuSH4bP.js";import"./index--o4npdfR.js";import"./VisuallyHidden-C_2pfeLD.js";import"./useForwardExpose-BJ4IusGi.js";import"./useForwardPropsEmits-Ci4uCAMk.js";import"./index-4t0c7qAK.js";import"./createLucideIcon-ChUeGeV6.js";import"./globe-DmCuXhUi.js";import"./file-text-CaCxU_Dl.js";import"./calendar-CyO_6aHN.js";import"./check-BvjNkrB1.js";const Z={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4"},ee={class:"flex items-center justify-between"},te={class:"grid gap-6"},se={class:"grid gap-2"},le={key:0,class:"text-sm text-destructive"},ie={class:"grid gap-2"},re={key:0,class:"text-sm text-destructive"},ae={class:"grid gap-2"},de={key:0,class:"text-sm text-destructive"},oe={class:"grid gap-2"},ne={class:"grid gap-2"},ue={class:"grid gap-4 md:grid-cols-2"},me={class:"grid gap-2"},pe={key:0,class:"text-sm text-destructive"},fe={class:"grid gap-2"},ge={class:"grid gap-2"},_e={key:0,class:"text-sm text-destructive"},ce={class:"grid gap-2"},ve={class:"grid gap-2"},xe={class:"grid gap-2"},ye={class:"grid gap-2"},be={class:"grid gap-2"},he={class:"grid gap-2"},we={class:"grid gap-2"},Ve={key:0,class:"relative"},ke=["src"],Ue={key:1},Te={key:2,class:"text-sm text-destructive"},De={class:"grid gap-2"},Ce={key:0,class:"grid grid-cols-2 gap-4 md:grid-cols-4 mb-4"},Ie=["src","alt"],$e={key:1,class:"grid grid-cols-2 gap-4 md:grid-cols-4 mb-4"},Me=["src","alt"],Ee={key:2,class:"text-sm text-destructive"},Pe={class:"grid gap-2"},je={class:"grid gap-2"},Ae={class:"grid gap-2"},Fe={class:"flex items-center gap-4"},Se={class:"flex items-center gap-2"},Be={class:"flex items-center gap-2"},Le={class:"grid gap-2"},Ne={class:"grid gap-2"},Re={class:"grid gap-2"},qe={class:"flex items-center justify-end gap-4"},ut=H({__name:"Edit",props:{tour:{}},setup(L){const o=L,N=[{title:"Dashboard",href:"/cp/dashboard"},{title:"Tour Packages",href:"/cp/tours"},{title:"Edit",href:"#"}],P=v(null),T=v(o.tour.thumbnail),I=v(!1),D=v(o.tour.images||[]),$=v([]),j=v([]),C=v([]),l=X({title:o.tour.title,slug:o.tour.slug,description:o.tour.description,itinerary:o.tour.itinerary||"",highlights:o.tour.highlights||"",images:[],thumbnail:null,price:o.tour.price,currency:o.tour.currency,duration_days:o.tour.duration_days,destination:o.tour.destination||"",departure_location:o.tour.departure_location||"",start_date:o.tour.start_date||"",end_date:o.tour.end_date||"",max_participants:o.tour.max_participants,min_participants:o.tour.min_participants,is_featured:o.tour.is_featured,is_active:o.tour.is_active,included:o.tour.included||"",excluded:o.tour.excluded||"",terms_conditions:o.tour.terms_conditions||"",meta_title:o.tour.meta_title||"",meta_description:o.tour.meta_description||"",meta_keywords:o.tour.meta_keywords||"",remove_thumbnail:!1,remove_images:[]}),R=f=>{const t=f.target;if(t.files&&t.files[0]){P.value=t.files[0],l.thumbnail=t.files[0],l.remove_thumbnail=!1,I.value=!1;const i=new FileReader;i.onload=g=>{var b;T.value=(b=g.target)==null?void 0:b.result},i.readAsDataURL(t.files[0])}},q=()=>{P.value=null,T.value=null,l.thumbnail=null,l.remove_thumbnail=!0,I.value=!0},z=f=>{const t=f.target;t.files&&Array.from(t.files).forEach(i=>{j.value.push(i),l.images.push(i);const g=new FileReader;g.onload=b=>{var A;C.value.push((A=b.target)==null?void 0:A.result)},g.readAsDataURL(i)})},O=f=>{D.value=D.value.filter(t=>t!==f),$.value.push(f),l.remove_images=$.value},K=f=>{j.value.splice(f,1),C.value.splice(f,1),l.images.splice(f,1)},W=()=>{l.remove_images=$.value,l.put(`/cp/tours/${o.tour.id}`,{preserveScroll:!0,forceFormData:!0})};return(f,t)=>(m(),u(M,null,[s(e(G),{title:"Edit Tour Package"}),s(Q,{breadcrumbs:N},{default:r(()=>[a("div",Z,[a("div",ee,[t[23]||(t[23]=a("div",null,[a("h1",{class:"text-2xl font-bold"},"Edit Tour Package"),a("p",{class:"text-muted-foreground"},"Update tour package information")],-1)),s(e(h),{variant:"outline","as-child":""},{default:r(()=>[s(e(F),{href:"/cp/tours"},{default:r(()=>[s(e(Y),{class:"mr-2 h-4 w-4"}),t[22]||(t[22]=d(" Back ",-1))]),_:1})]),_:1})]),a("form",{onSubmit:J(W,["prevent"])},[a("div",te,[s(e(w),null,{default:r(()=>[s(e(k),null,{default:r(()=>[s(e(U),null,{default:r(()=>[...t[24]||(t[24]=[d("Basic Information",-1)])]),_:1})]),_:1}),s(e(V),{class:"space-y-4"},{default:r(()=>[a("div",se,[s(e(n),{for:"title"},{default:r(()=>[...t[25]||(t[25]=[d("Title *",-1)])]),_:1}),s(e(p),{id:"title",modelValue:e(l).title,"onUpdate:modelValue":t[0]||(t[0]=i=>e(l).title=i),required:"",placeholder:"Tour Package Title"},null,8,["modelValue"]),e(l).errors.title?(m(),u("p",le,c(e(l).errors.title),1)):_("",!0)]),a("div",ie,[s(e(n),{for:"slug"},{default:r(()=>[...t[26]||(t[26]=[d("Slug",-1)])]),_:1}),s(e(p),{id:"slug",modelValue:e(l).slug,"onUpdate:modelValue":t[1]||(t[1]=i=>e(l).slug=i),placeholder:"tour-package-slug"},null,8,["modelValue"]),e(l).errors.slug?(m(),u("p",re,c(e(l).errors.slug),1)):_("",!0)]),a("div",ae,[s(e(n),{for:"description"},{default:r(()=>[...t[27]||(t[27]=[d("Description *",-1)])]),_:1}),x(a("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=i=>e(l).description=i),required:"",rows:"4",class:"min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"Tour description"},null,512),[[y,e(l).description]]),e(l).errors.description?(m(),u("p",de,c(e(l).errors.description),1)):_("",!0)]),a("div",oe,[s(e(n),{for:"highlights"},{default:r(()=>[...t[28]||(t[28]=[d("Highlights",-1)])]),_:1}),x(a("textarea",{id:"highlights","onUpdate:modelValue":t[3]||(t[3]=i=>e(l).highlights=i),rows:"3",class:"min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"Key highlights of the tour"},null,512),[[y,e(l).highlights]])]),a("div",ne,[s(e(n),{for:"itinerary"},{default:r(()=>[...t[29]||(t[29]=[d("Itinerary",-1)])]),_:1}),x(a("textarea",{id:"itinerary","onUpdate:modelValue":t[4]||(t[4]=i=>e(l).itinerary=i),rows:"6",class:"min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"Detailed itinerary"},null,512),[[y,e(l).itinerary]])])]),_:1})]),_:1}),s(e(w),null,{default:r(()=>[s(e(k),null,{default:r(()=>[s(e(U),null,{default:r(()=>[...t[30]||(t[30]=[d("Pricing & Details",-1)])]),_:1})]),_:1}),s(e(V),{class:"space-y-4"},{default:r(()=>[a("div",ue,[a("div",me,[s(e(n),{for:"price"},{default:r(()=>[...t[31]||(t[31]=[d("Price *",-1)])]),_:1}),s(e(p),{id:"price",modelValue:e(l).price,"onUpdate:modelValue":t[5]||(t[5]=i=>e(l).price=i),modelModifiers:{number:!0},type:"number",step:"0.01",min:"0",required:""},null,8,["modelValue"]),e(l).errors.price?(m(),u("p",pe,c(e(l).errors.price),1)):_("",!0)]),a("div",fe,[s(e(n),{for:"currency"},{default:r(()=>[...t[32]||(t[32]=[d("Currency",-1)])]),_:1}),s(e(p),{id:"currency",modelValue:e(l).currency,"onUpdate:modelValue":t[6]||(t[6]=i=>e(l).currency=i),maxlength:"3",placeholder:"BDT"},null,8,["modelValue"])]),a("div",ge,[s(e(n),{for:"duration_days"},{default:r(()=>[...t[33]||(t[33]=[d("Duration (Days) *",-1)])]),_:1}),s(e(p),{id:"duration_days",modelValue:e(l).duration_days,"onUpdate:modelValue":t[7]||(t[7]=i=>e(l).duration_days=i),modelModifiers:{number:!0},type:"number",min:"1",required:""},null,8,["modelValue"]),e(l).errors.duration_days?(m(),u("p",_e,c(e(l).errors.duration_days),1)):_("",!0)]),a("div",ce,[s(e(n),{for:"destination"},{default:r(()=>[...t[34]||(t[34]=[d("Destination",-1)])]),_:1}),s(e(p),{id:"destination",modelValue:e(l).destination,"onUpdate:modelValue":t[8]||(t[8]=i=>e(l).destination=i),placeholder:"Tour destination"},null,8,["modelValue"])]),a("div",ve,[s(e(n),{for:"departure_location"},{default:r(()=>[...t[35]||(t[35]=[d("Departure Location",-1)])]),_:1}),s(e(p),{id:"departure_location",modelValue:e(l).departure_location,"onUpdate:modelValue":t[9]||(t[9]=i=>e(l).departure_location=i),placeholder:"Departure location"},null,8,["modelValue"])]),a("div",xe,[s(e(n),{for:"min_participants"},{default:r(()=>[...t[36]||(t[36]=[d("Min Participants",-1)])]),_:1}),s(e(p),{id:"min_participants",modelValue:e(l).min_participants,"onUpdate:modelValue":t[10]||(t[10]=i=>e(l).min_participants=i),modelModifiers:{number:!0},type:"number",min:"1"},null,8,["modelValue"])]),a("div",ye,[s(e(n),{for:"max_participants"},{default:r(()=>[...t[37]||(t[37]=[d("Max Participants",-1)])]),_:1}),s(e(p),{id:"max_participants",modelValue:e(l).max_participants,"onUpdate:modelValue":t[11]||(t[11]=i=>e(l).max_participants=i),modelModifiers:{number:!0},type:"number",min:"1"},null,8,["modelValue"])]),a("div",be,[s(e(n),{for:"start_date"},{default:r(()=>[...t[38]||(t[38]=[d("Start Date",-1)])]),_:1}),s(e(p),{id:"start_date",modelValue:e(l).start_date,"onUpdate:modelValue":t[12]||(t[12]=i=>e(l).start_date=i),type:"date"},null,8,["modelValue"])]),a("div",he,[s(e(n),{for:"end_date"},{default:r(()=>[...t[39]||(t[39]=[d("End Date",-1)])]),_:1}),s(e(p),{id:"end_date",modelValue:e(l).end_date,"onUpdate:modelValue":t[13]||(t[13]=i=>e(l).end_date=i),type:"date"},null,8,["modelValue"])])])]),_:1})]),_:1}),s(e(w),null,{default:r(()=>[s(e(k),null,{default:r(()=>[s(e(U),null,{default:r(()=>[...t[40]||(t[40]=[d("Media",-1)])]),_:1})]),_:1}),s(e(V),{class:"space-y-4"},{default:r(()=>[a("div",we,[s(e(n),{for:"thumbnail"},{default:r(()=>[...t[41]||(t[41]=[d("Thumbnail Image",-1)])]),_:1}),T.value&&!I.value?(m(),u("div",Ve,[a("img",{src:T.value,alt:"Thumbnail preview",class:"h-48 w-full rounded-lg object-cover"},null,8,ke),s(e(h),{type:"button",variant:"destructive",size:"icon",class:"absolute right-2 top-2",onClick:q},{default:r(()=>[s(e(E),{class:"h-4 w-4"})]),_:1})])):(m(),u("div",Ue,[s(e(p),{id:"thumbnail",type:"file",accept:"image/*",onChange:R}),t[42]||(t[42]=a("p",{class:"mt-1 text-xs text-muted-foreground"}," Upload a thumbnail image (max 2MB, jpeg, png, jpg, gif, webp) ",-1))])),e(l).errors.thumbnail?(m(),u("p",Te,c(e(l).errors.thumbnail),1)):_("",!0)]),a("div",De,[s(e(n),null,{default:r(()=>[...t[43]||(t[43]=[d("Additional Images",-1)])]),_:1}),D.value.length>0?(m(),u("div",Ce,[(m(!0),u(M,null,S(D.value,(i,g)=>(m(),u("div",{key:g,class:"relative"},[a("img",{src:i,alt:`Image ${g+1}`,class:"h-32 w-full rounded-lg object-cover"},null,8,Ie),s(e(h),{type:"button",variant:"destructive",size:"icon",class:"absolute right-2 top-2",onClick:b=>O(i)},{default:r(()=>[s(e(E),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))])):_("",!0),C.value.length>0?(m(),u("div",$e,[(m(!0),u(M,null,S(C.value,(i,g)=>(m(),u("div",{key:`new-${g}`,class:"relative"},[a("img",{src:i,alt:`New image ${g+1}`,class:"h-32 w-full rounded-lg object-cover"},null,8,Me),s(e(h),{type:"button",variant:"destructive",size:"icon",class:"absolute right-2 top-2",onClick:b=>K(g)},{default:r(()=>[s(e(E),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))])):_("",!0),s(e(p),{id:"additional_images",type:"file",accept:"image/*",multiple:"",onChange:z}),t[44]||(t[44]=a("p",{class:"text-xs text-muted-foreground"}," Upload additional images (max 2MB each, jpeg, png, jpg, gif, webp) ",-1)),e(l).errors.images?(m(),u("p",Ee,c(e(l).errors.images),1)):_("",!0)])]),_:1})]),_:1}),s(e(w),null,{default:r(()=>[s(e(k),null,{default:r(()=>[s(e(U),null,{default:r(()=>[...t[45]||(t[45]=[d("Additional Information",-1)])]),_:1})]),_:1}),s(e(V),{class:"space-y-4"},{default:r(()=>[a("div",Pe,[s(e(n),{for:"included"},{default:r(()=>[...t[46]||(t[46]=[d("What's Included",-1)])]),_:1}),x(a("textarea",{id:"included","onUpdate:modelValue":t[14]||(t[14]=i=>e(l).included=i),rows:"3",class:"min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"Items included in the tour"},null,512),[[y,e(l).included]])]),a("div",je,[s(e(n),{for:"excluded"},{default:r(()=>[...t[47]||(t[47]=[d("What's Excluded",-1)])]),_:1}),x(a("textarea",{id:"excluded","onUpdate:modelValue":t[15]||(t[15]=i=>e(l).excluded=i),rows:"3",class:"min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"Items excluded from the tour"},null,512),[[y,e(l).excluded]])]),a("div",Ae,[s(e(n),{for:"terms_conditions"},{default:r(()=>[...t[48]||(t[48]=[d("Terms & Conditions",-1)])]),_:1}),x(a("textarea",{id:"terms_conditions","onUpdate:modelValue":t[16]||(t[16]=i=>e(l).terms_conditions=i),rows:"4",class:"min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"Terms and conditions"},null,512),[[y,e(l).terms_conditions]])]),a("div",Fe,[a("div",Se,[s(e(B),{id:"is_featured",checked:e(l).is_featured,"onUpdate:checked":t[17]||(t[17]=i=>e(l).is_featured=i)},null,8,["checked"]),s(e(n),{for:"is_featured"},{default:r(()=>[...t[49]||(t[49]=[d("Featured Tour",-1)])]),_:1})]),a("div",Be,[s(e(B),{id:"is_active",checked:e(l).is_active,"onUpdate:checked":t[18]||(t[18]=i=>e(l).is_active=i)},null,8,["checked"]),s(e(n),{for:"is_active"},{default:r(()=>[...t[50]||(t[50]=[d("Active",-1)])]),_:1})])])]),_:1})]),_:1}),s(e(w),null,{default:r(()=>[s(e(k),null,{default:r(()=>[s(e(U),null,{default:r(()=>[...t[51]||(t[51]=[d("SEO Settings",-1)])]),_:1})]),_:1}),s(e(V),{class:"space-y-4"},{default:r(()=>[a("div",Le,[s(e(n),{for:"meta_title"},{default:r(()=>[...t[52]||(t[52]=[d("Meta Title",-1)])]),_:1}),s(e(p),{id:"meta_title",modelValue:e(l).meta_title,"onUpdate:modelValue":t[19]||(t[19]=i=>e(l).meta_title=i),placeholder:"SEO meta title"},null,8,["modelValue"])]),a("div",Ne,[s(e(n),{for:"meta_description"},{default:r(()=>[...t[53]||(t[53]=[d("Meta Description",-1)])]),_:1}),x(a("textarea",{id:"meta_description","onUpdate:modelValue":t[20]||(t[20]=i=>e(l).meta_description=i),rows:"3",class:"min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs",placeholder:"SEO meta description"},null,512),[[y,e(l).meta_description]])]),a("div",Re,[s(e(n),{for:"meta_keywords"},{default:r(()=>[...t[54]||(t[54]=[d("Meta Keywords",-1)])]),_:1}),s(e(p),{id:"meta_keywords",modelValue:e(l).meta_keywords,"onUpdate:modelValue":t[21]||(t[21]=i=>e(l).meta_keywords=i),placeholder:"keyword1, keyword2, keyword3"},null,8,["modelValue"])])]),_:1})]),_:1}),a("div",qe,[s(e(h),{type:"button",variant:"outline","as-child":""},{default:r(()=>[s(e(F),{href:"/cp/tours"},{default:r(()=>[...t[55]||(t[55]=[d("Cancel",-1)])]),_:1})]),_:1}),s(e(h),{type:"submit",disabled:e(l).processing},{default:r(()=>[d(c(e(l).processing?"Updating...":"Update Tour Package"),1)]),_:1},8,["disabled"])])])],32)])]),_:1})],64))}});export{ut as default};
