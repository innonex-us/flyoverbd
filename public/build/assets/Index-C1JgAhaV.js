import{d as A,r as _,c,a,b as s,h as N,w as i,e as t,l as g,f as n,j as D,n as B,p as F,t as r,i as y,o as d,F as b,k as R,m as w,s as v}from"./app-BNL6yBpj.js";import{_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-B1YP6mHh.js";import{_ as k,a as $}from"./CardContent.vue_vue_type_script_setup_true_lang-ChgRXIJl.js";import{_ as z,a as I}from"./CardTitle.vue_vue_type_script_setup_true_lang-VNAzxZ0O.js";import{_ as u}from"./index-LkZ3l7_t.js";import{_ as P}from"./Input.vue_vue_type_script_setup_true_lang-Bnp9nIXL.js";import{_ as S}from"./index-PIWuVvZK.js";import{P as T}from"./plus-COXbxmmj.js";import{S as M}from"./search-CXxsL-hS.js";import{G}from"./globe-ibZpHMLy.js";import{S as K}from"./square-pen-BtVazPkH.js";import{T as U}from"./trash-2-COr4jstP.js";import"./utils-kKsk6u8f.js";import"./index-Bgd5ffrM.js";import"./VisuallyHidden-CV_5suY1.js";import"./useForwardExpose-BI-Vxx6w.js";import"./useForwardPropsEmits-DjVx8U1f.js";import"./index-KXJrcCIR.js";import"./createLucideIcon-CvYpObmL.js";import"./x-CTgYV9Wi.js";import"./file-text-D7GmGOl_.js";import"./calendar-Yvk0uyD6.js";const E={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4"},L={class:"flex items-center justify-between"},H={class:"flex flex-col gap-4 md:flex-row md:items-center"},J={class:"flex-1"},O={class:"relative"},Q={class:"overflow-x-auto"},W={class:"w-full"},X={class:"px-4 py-3"},Y={class:"flex items-center gap-3"},Z={class:"font-medium"},tt={class:"text-xs text-muted-foreground"},et={class:"px-4 py-3"},st={class:"text-sm"},at={class:"px-4 py-3"},lt={class:"font-medium"},it={class:"px-4 py-3"},ot={class:"px-4 py-3"},rt={class:"flex items-center justify-end gap-2"},nt={key:0},dt={key:0,class:"mt-4 flex items-center justify-between"},ut={class:"text-sm text-muted-foreground"},mt={class:"flex gap-2"},jt=A({__name:"Index",props:{visas:{},filters:{}},setup(l){const h=l,V=[{title:"Dashboard",href:"/cp/dashboard"},{title:"Visa Requirements",href:"#"}],p=_(h.filters.search||""),f=_(h.filters.status||"all"),x=()=>{v.get("/cp/visas",{search:p.value||void 0,status:f.value!=="all"?f.value:void 0},{preserveState:!0,replace:!0})},C=m=>{confirm("Are you sure you want to delete this visa requirement?")&&v.delete(`/cp/visas/${m}`,{preserveScroll:!0})},q=(m,e="BDT")=>m?new Intl.NumberFormat("en-BD",{style:"currency",currency:e,minimumFractionDigits:0}).format(m):"N/A";return(m,e)=>(d(),c(b,null,[a(s(N),{title:"Visa Requirements"}),a(j,{breadcrumbs:V},{default:i(()=>[t("div",E,[t("div",L,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-bold"},"Visa Requirements"),t("p",{class:"text-muted-foreground"},"Manage visa requirements by country")],-1)),a(s(u),{"as-child":""},{default:i(()=>[a(s(g),{href:"/cp/visas/create"},{default:i(()=>[a(s(T),{class:"mr-2 h-4 w-4"}),e[4]||(e[4]=n(" Add Visa Requirement ",-1))]),_:1})]),_:1})]),a(s(k),null,{default:i(()=>[a(s($),{class:"pt-6"},{default:i(()=>[t("div",H,[t("div",J,[t("div",O,[a(s(M),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(P),{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),placeholder:"Search countries...",class:"pl-9",onKeyup:B(x,["enter"])},null,8,["modelValue"])])]),D(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>f.value=o),class:"h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs",onChange:x},[...e[6]||(e[6]=[t("option",{value:"all"},"All Status",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)])],544),[[F,f.value]]),a(s(u),{onClick:x},{default:i(()=>[...e[7]||(e[7]=[n("Search",-1)])]),_:1})])]),_:1})]),_:1}),a(s(k),null,{default:i(()=>[a(s(z),null,{default:i(()=>[a(s(I),null,{default:i(()=>[n("All Visa Requirements ("+r(l.visas.total)+")",1)]),_:1})]),_:1}),a(s($),null,{default:i(()=>[t("div",Q,[t("table",W,[e[11]||(e[11]=t("thead",null,[t("tr",{class:"border-b"},[t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Country"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Country Code"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Visa Fee"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Status"),t("th",{class:"px-4 py-3 text-right text-sm font-medium"},"Actions")])],-1)),t("tbody",null,[(d(!0),c(b,null,R(l.visas.data,o=>(d(),c("tr",{key:o.id,class:"border-b hover:bg-muted/50"},[t("td",X,[t("div",Y,[a(s(G),{class:"h-5 w-5 text-muted-foreground"}),t("div",null,[t("div",Z,r(o.country),1),t("div",tt,r(o.slug),1)])])]),t("td",et,[t("span",st,r(o.country_code||"N/A"),1)]),t("td",at,[t("span",lt,r(q(o.visa_fee,o.currency)),1)]),t("td",it,[o.is_active?(d(),w(s(S),{key:0,variant:"default"},{default:i(()=>[...e[8]||(e[8]=[n(" Active ",-1)])]),_:1})):(d(),w(s(S),{key:1,variant:"secondary"},{default:i(()=>[...e[9]||(e[9]=[n(" Inactive ",-1)])]),_:1}))]),t("td",ot,[t("div",rt,[a(s(u),{variant:"ghost",size:"icon-sm","as-child":""},{default:i(()=>[a(s(g),{href:`/cp/visas/${o.id}/edit`},{default:i(()=>[a(s(K),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),a(s(u),{variant:"ghost",size:"icon-sm",onClick:ct=>C(o.id)},{default:i(()=>[a(s(U),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])])]))),128)),l.visas.data.length===0?(d(),c("tr",nt,[...e[10]||(e[10]=[t("td",{colspan:"5",class:"px-4 py-8 text-center text-muted-foreground"}," No visa requirements found ",-1)])])):y("",!0)])])]),l.visas.last_page>1?(d(),c("div",dt,[t("div",ut," Showing "+r((l.visas.current_page-1)*l.visas.per_page+1)+" to "+r(Math.min(l.visas.current_page*l.visas.per_page,l.visas.total))+" of "+r(l.visas.total)+" results ",1),t("div",mt,[a(s(u),{variant:"outline",size:"sm",disabled:l.visas.current_page===1,onClick:e[2]||(e[2]=o=>s(v).get(l.visas.current_page>1?`/cp/visas?page=${l.visas.current_page-1}`:"#"))},{default:i(()=>[...e[12]||(e[12]=[n(" Previous ",-1)])]),_:1},8,["disabled"]),a(s(u),{variant:"outline",size:"sm",disabled:l.visas.current_page===l.visas.last_page,onClick:e[3]||(e[3]=o=>s(v).get(l.visas.current_page<l.visas.last_page?`/cp/visas?page=${l.visas.current_page+1}`:"#"))},{default:i(()=>[...e[13]||(e[13]=[n(" Next ",-1)])]),_:1},8,["disabled"])])])):y("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{jt as default};
