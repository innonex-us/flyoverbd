import{d as N,r as _,c as r,a as l,b as o,h as D,w as i,e,j as b,n as I,p as q,f as u,t as n,i as g,o as d,F as w,k as A,l as T,s as h}from"./app-BNL6yBpj.js";import{_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-B1YP6mHh.js";import{_ as k,a as S}from"./CardContent.vue_vue_type_script_setup_true_lang-ChgRXIJl.js";import{_ as z,a as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-VNAzxZ0O.js";import{_ as f}from"./index-LkZ3l7_t.js";import{_ as E}from"./Input.vue_vue_type_script_setup_true_lang-Bnp9nIXL.js";import{_ as $}from"./index-PIWuVvZK.js";import{S as M}from"./search-CXxsL-hS.js";import{E as U}from"./eye-DbdBUe0B.js";import"./utils-kKsk6u8f.js";import"./index-Bgd5ffrM.js";import"./VisuallyHidden-CV_5suY1.js";import"./useForwardExpose-BI-Vxx6w.js";import"./useForwardPropsEmits-DjVx8U1f.js";import"./index-KXJrcCIR.js";import"./createLucideIcon-CvYpObmL.js";import"./x-CTgYV9Wi.js";import"./globe-ibZpHMLy.js";import"./file-text-D7GmGOl_.js";import"./calendar-Yvk0uyD6.js";const F={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4"},K={class:"flex flex-col gap-4 md:flex-row md:items-center"},L={class:"flex-1"},P={class:"relative"},R={class:"overflow-x-auto"},G={class:"w-full"},H={class:"px-4 py-3"},J={class:"font-medium"},O={class:"text-xs text-muted-foreground"},Q={key:0,class:"text-xs text-muted-foreground"},W={class:"px-4 py-3"},X={class:"px-4 py-3"},Y={class:"text-sm"},Z={key:0},ee={key:1},te={key:2,class:"text-muted-foreground"},se={class:"px-4 py-3"},ae={class:"px-4 py-3"},oe={class:"text-sm text-muted-foreground"},le={class:"px-4 py-3"},ie={class:"flex items-center justify-end gap-2"},ne={key:0},re={key:0,class:"mt-4 flex items-center justify-between"},de={class:"text-sm text-muted-foreground"},ue={class:"flex gap-2"},Ie=N({__name:"Index",props:{inquiries:{},filters:{}},setup(a){const x=a,C=[{title:"Dashboard",href:"/cp/dashboard"},{title:"Inquiries",href:"#"}],v=_(x.filters.search||""),m=_(x.filters.type||"all"),c=_(x.filters.status||"all"),p=()=>{h.get("/cp/inquiries",{search:v.value||void 0,type:m.value!=="all"?m.value:void 0,status:c.value!=="all"?c.value:void 0},{preserveState:!0,replace:!0})},V=y=>({new:"default",contacted:"outline",in_progress:"secondary",resolved:"default",closed:"secondary"})[y]||"default";return(y,t)=>(d(),r(w,null,[l(o(D),{title:"Inquiries"}),l(j,{breadcrumbs:C},{default:i(()=>[e("div",F,[t[12]||(t[12]=e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h1",{class:"text-2xl font-bold"},"Inquiries"),e("p",{class:"text-muted-foreground"},"Manage customer inquiries")])],-1)),l(o(k),null,{default:i(()=>[l(o(S),{class:"pt-6"},{default:i(()=>[e("div",K,[e("div",L,[e("div",P,[l(o(M),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l(o(E),{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),placeholder:"Search inquiries...",class:"pl-9",onKeyup:I(p,["enter"])},null,8,["modelValue"])])]),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),class:"h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs",onChange:p},[...t[5]||(t[5]=[e("option",{value:"all"},"All Types",-1),e("option",{value:"tour"},"Tour",-1),e("option",{value:"visa"},"Visa",-1),e("option",{value:"general"},"General",-1)])],544),[[q,m.value]]),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>c.value=s),class:"h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs",onChange:p},[...t[6]||(t[6]=[e("option",{value:"all"},"All Status",-1),e("option",{value:"new"},"New",-1),e("option",{value:"contacted"},"Contacted",-1),e("option",{value:"in_progress"},"In Progress",-1),e("option",{value:"resolved"},"Resolved",-1),e("option",{value:"closed"},"Closed",-1)])],544),[[q,c.value]]),l(o(f),{onClick:p},{default:i(()=>[...t[7]||(t[7]=[u("Search",-1)])]),_:1})])]),_:1})]),_:1}),l(o(k),null,{default:i(()=>[l(o(z),null,{default:i(()=>[l(o(B),null,{default:i(()=>[u("All Inquiries ("+n(a.inquiries.total)+")",1)]),_:1})]),_:1}),l(o(S),null,{default:i(()=>[e("div",R,[e("table",G,[t[9]||(t[9]=e("thead",null,[e("tr",{class:"border-b"},[e("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Customer"),e("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Type"),e("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Related To"),e("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Status"),e("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Date"),e("th",{class:"px-4 py-3 text-right text-sm font-medium"},"Actions")])],-1)),e("tbody",null,[(d(!0),r(w,null,A(a.inquiries.data,s=>(d(),r("tr",{key:s.id,class:"border-b hover:bg-muted/50"},[e("td",H,[e("div",null,[e("div",J,n(s.name),1),e("div",O,n(s.email),1),s.phone?(d(),r("div",Q,n(s.phone),1)):g("",!0)])]),e("td",W,[l(o($),{variant:"outline"},{default:i(()=>[u(n(s.type),1)]),_:2},1024)]),e("td",X,[e("span",Y,[s.tour?(d(),r("span",Z,n(s.tour.title),1)):s.visa_requirement?(d(),r("span",ee,n(s.visa_requirement.country),1)):(d(),r("span",te,"N/A"))])]),e("td",se,[l(o($),{variant:V(s.status)},{default:i(()=>[u(n(s.status.replace("_"," ")),1)]),_:2},1032,["variant"])]),e("td",ae,[e("span",oe,n(new Date(s.created_at).toLocaleDateString()),1)]),e("td",le,[e("div",ie,[l(o(f),{variant:"ghost",size:"icon-sm","as-child":""},{default:i(()=>[l(o(T),{href:`/cp/inquiries/${s.id}`},{default:i(()=>[l(o(U),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024)])])]))),128)),a.inquiries.data.length===0?(d(),r("tr",ne,[...t[8]||(t[8]=[e("td",{colspan:"6",class:"px-4 py-8 text-center text-muted-foreground"}," No inquiries found ",-1)])])):g("",!0)])])]),a.inquiries.last_page>1?(d(),r("div",re,[e("div",de," Showing "+n((a.inquiries.current_page-1)*a.inquiries.per_page+1)+" to "+n(Math.min(a.inquiries.current_page*a.inquiries.per_page,a.inquiries.total))+" of "+n(a.inquiries.total)+" results ",1),e("div",ue,[l(o(f),{variant:"outline",size:"sm",disabled:a.inquiries.current_page===1,onClick:t[3]||(t[3]=s=>o(h).get(a.inquiries.current_page>1?`/cp/inquiries?page=${a.inquiries.current_page-1}`:"#"))},{default:i(()=>[...t[10]||(t[10]=[u(" Previous ",-1)])]),_:1},8,["disabled"]),l(o(f),{variant:"outline",size:"sm",disabled:a.inquiries.current_page===a.inquiries.last_page,onClick:t[4]||(t[4]=s=>o(h).get(a.inquiries.current_page<a.inquiries.last_page?`/cp/inquiries?page=${a.inquiries.current_page+1}`:"#"))},{default:i(()=>[...t[11]||(t[11]=[u(" Next ",-1)])]),_:1},8,["disabled"])])])):g("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{Ie as default};
