import{d as j,r as v,c as u,a,b as o,h as F,w as n,e as t,l as k,f as d,j as w,n as z,p as S,t as i,i as C,o as m,F as $,k as E,s as h}from"./app-CP1-r0BK.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-VNpVqBxi.js";import{_ as B,a as P}from"./CardContent.vue_vue_type_script_setup_true_lang-CtDX4IYL.js";import{_ as T,a as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-B3wlGP_E.js";import{_ as c}from"./index-DjTBur_r.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-juG8Vjrp.js";import{_ as V}from"./index-DSBIGG2n.js";import{P as K}from"./plus-DRbmn7Q5.js";import{S as R}from"./search-DkDY2E7v.js";import{E as L}from"./eye-DmHyN7Zp.js";import"./utils-DeuSH4bP.js";import"./index--o4npdfR.js";import"./VisuallyHidden-C_2pfeLD.js";import"./useForwardExpose-BJ4IusGi.js";import"./useForwardPropsEmits-Ci4uCAMk.js";import"./index-4t0c7qAK.js";import"./createLucideIcon-ChUeGeV6.js";import"./x-CrZJWNU5.js";import"./globe-DmCuXhUi.js";import"./file-text-CaCxU_Dl.js";import"./calendar-CyO_6aHN.js";const q={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4"},G={class:"flex items-center justify-between"},H={class:"flex flex-col gap-4 md:flex-row md:items-center"},J={class:"flex-1"},O={class:"relative"},Q={class:"overflow-x-auto"},W={class:"w-full"},X={class:"px-4 py-3"},Y={class:"font-mono text-sm"},Z={class:"px-4 py-3"},tt={class:"font-medium"},et={class:"text-xs text-muted-foreground"},st={class:"px-4 py-3"},ot={class:"text-sm"},at={class:"px-4 py-3"},lt={class:"text-sm"},nt={class:"px-4 py-3"},it={class:"font-medium"},dt={class:"text-xs text-muted-foreground"},rt={class:"px-4 py-3"},ut={class:"flex flex-col gap-1"},mt={class:"px-4 py-3"},ct={class:"flex items-center justify-end gap-2"},ft={key:0},pt={key:0,class:"mt-4 flex items-center justify-between"},gt={class:"text-sm text-muted-foreground"},xt={class:"flex gap-2"},Tt=j({__name:"Index",props:{bookings:{},filters:{}},setup(l){const x=l,N=[{title:"Dashboard",href:"/cp/dashboard"},{title:"Bookings",href:"#"}],_=v(x.filters.search||""),f=v(x.filters.booking_status||"all"),p=v(x.filters.payment_status||"all"),g=()=>{h.get("/cp/bookings",{search:_.value||void 0,booking_status:f.value!=="all"?f.value:void 0,payment_status:p.value!=="all"?p.value:void 0},{preserveState:!0,replace:!0})},b=(r,e="BDT")=>new Intl.NumberFormat("en-BD",{style:"currency",currency:e,minimumFractionDigits:0}).format(r),A=r=>({pending:"secondary",confirmed:"default",cancelled:"destructive",completed:"default"})[r]||"default",D=r=>({pending:"secondary",partial:"outline",paid:"default",refunded:"destructive"})[r]||"default";return(r,e)=>(m(),u($,null,[a(o(F),{title:"Bookings"}),a(M,{breadcrumbs:N},{default:n(()=>[t("div",q,[t("div",G,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-bold"},"Bookings"),t("p",{class:"text-muted-foreground"},"Manage tour bookings")],-1)),a(o(c),{"as-child":""},{default:n(()=>[a(o(k),{href:"/cp/bookings/create"},{default:n(()=>[a(o(K),{class:"mr-2 h-4 w-4"}),e[5]||(e[5]=d(" Add Booking ",-1))]),_:1})]),_:1})]),a(o(B),null,{default:n(()=>[a(o(P),{class:"pt-6"},{default:n(()=>[t("div",H,[t("div",J,[t("div",O,[a(o(R),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(o(I),{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=s=>_.value=s),placeholder:"Search bookings...",class:"pl-9",onKeyup:z(g,["enter"])},null,8,["modelValue"])])]),w(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>f.value=s),class:"h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs",onChange:g},[...e[7]||(e[7]=[t("option",{value:"all"},"All Booking Status",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"confirmed"},"Confirmed",-1),t("option",{value:"cancelled"},"Cancelled",-1),t("option",{value:"completed"},"Completed",-1)])],544),[[S,f.value]]),w(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>p.value=s),class:"h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs",onChange:g},[...e[8]||(e[8]=[t("option",{value:"all"},"All Payment Status",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"partial"},"Partial",-1),t("option",{value:"paid"},"Paid",-1),t("option",{value:"refunded"},"Refunded",-1)])],544),[[S,p.value]]),a(o(c),{onClick:g},{default:n(()=>[...e[9]||(e[9]=[d("Search",-1)])]),_:1})])]),_:1})]),_:1}),a(o(B),null,{default:n(()=>[a(o(T),null,{default:n(()=>[a(o(U),null,{default:n(()=>[d("All Bookings ("+i(l.bookings.total)+")",1)]),_:1})]),_:1}),a(o(P),null,{default:n(()=>[t("div",Q,[t("table",W,[e[11]||(e[11]=t("thead",null,[t("tr",{class:"border-b"},[t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Reference"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Customer"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Tour"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Participants"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Amount"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Status"),t("th",{class:"px-4 py-3 text-right text-sm font-medium"},"Actions")])],-1)),t("tbody",null,[(m(!0),u($,null,E(l.bookings.data,s=>{var y;return m(),u("tr",{key:s.id,class:"border-b hover:bg-muted/50"},[t("td",X,[t("div",Y,i(s.booking_reference),1)]),t("td",Z,[t("div",null,[t("div",tt,i(s.customer_name),1),t("div",et,i(s.customer_email),1)])]),t("td",st,[t("span",ot,i(((y=s.tour)==null?void 0:y.title)||"N/A"),1)]),t("td",at,[t("span",lt,i(s.number_of_participants),1)]),t("td",nt,[t("div",null,[t("div",it,i(b(s.total_amount,s.currency)),1),t("div",dt," Paid: "+i(b(s.paid_amount,s.currency)),1)])]),t("td",rt,[t("div",ut,[a(o(V),{variant:A(s.booking_status)},{default:n(()=>[d(i(s.booking_status),1)]),_:2},1032,["variant"]),a(o(V),{variant:D(s.payment_status)},{default:n(()=>[d(i(s.payment_status),1)]),_:2},1032,["variant"])])]),t("td",mt,[t("div",ct,[a(o(c),{variant:"ghost",size:"icon-sm","as-child":""},{default:n(()=>[a(o(k),{href:`/cp/bookings/${s.id}`},{default:n(()=>[a(o(L),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024)])])])}),128)),l.bookings.data.length===0?(m(),u("tr",ft,[...e[10]||(e[10]=[t("td",{colspan:"7",class:"px-4 py-8 text-center text-muted-foreground"}," No bookings found ",-1)])])):C("",!0)])])]),l.bookings.last_page>1?(m(),u("div",pt,[t("div",gt," Showing "+i((l.bookings.current_page-1)*l.bookings.per_page+1)+" to "+i(Math.min(l.bookings.current_page*l.bookings.per_page,l.bookings.total))+" of "+i(l.bookings.total)+" results ",1),t("div",xt,[a(o(c),{variant:"outline",size:"sm",disabled:l.bookings.current_page===1,onClick:e[3]||(e[3]=s=>o(h).get(l.bookings.current_page>1?`/cp/bookings?page=${l.bookings.current_page-1}`:"#"))},{default:n(()=>[...e[12]||(e[12]=[d(" Previous ",-1)])]),_:1},8,["disabled"]),a(o(c),{variant:"outline",size:"sm",disabled:l.bookings.current_page===l.bookings.last_page,onClick:e[4]||(e[4]=s=>o(h).get(l.bookings.current_page<l.bookings.last_page?`/cp/bookings?page=${l.bookings.current_page+1}`:"#"))},{default:n(()=>[...e[13]||(e[13]=[d(" Next ",-1)])]),_:1},8,["disabled"])])])):C("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{Tt as default};
