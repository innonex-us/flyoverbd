import{d as N,r as _,c as i,a,b as s,h as z,w as d,e as t,l as y,f as u,j as S,i as g,n as F,p as C,o as r,F as w,k as P,t as n,m as x,q as j,s as h}from"./app-BNL6yBpj.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-B1YP6mHh.js";import{_ as B,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-ChgRXIJl.js";import{_ as U,a as E}from"./CardTitle.vue_vue_type_script_setup_true_lang-VNAzxZ0O.js";import{_ as m}from"./index-LkZ3l7_t.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-Bnp9nIXL.js";import{_ as k}from"./index-PIWuVvZK.js";import{P as q}from"./plus-COXbxmmj.js";import{S as I}from"./search-CXxsL-hS.js";import{F as K}from"./file-text-D7GmGOl_.js";import{E as L}from"./eye-DbdBUe0B.js";import{S as G}from"./square-pen-BtVazPkH.js";import{T as H}from"./trash-2-COr4jstP.js";import"./utils-kKsk6u8f.js";import"./index-Bgd5ffrM.js";import"./VisuallyHidden-CV_5suY1.js";import"./useForwardExpose-BI-Vxx6w.js";import"./useForwardPropsEmits-DjVx8U1f.js";import"./index-KXJrcCIR.js";import"./createLucideIcon-CvYpObmL.js";import"./x-CTgYV9Wi.js";import"./globe-ibZpHMLy.js";import"./calendar-Yvk0uyD6.js";const J={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4"},O={class:"flex items-center justify-between"},Q={class:"flex flex-col gap-4 md:flex-row md:items-center"},R={class:"flex-1"},W={class:"relative"},X=["value"],Y={class:"overflow-x-auto"},Z={class:"w-full"},tt={class:"px-4 py-3"},et={class:"flex items-center gap-3"},st={class:"font-medium"},lt={class:"text-xs text-muted-foreground"},at={class:"px-4 py-3"},ot={class:"text-sm"},dt={class:"px-4 py-3"},rt={class:"text-sm"},it={class:"px-4 py-3"},nt={class:"text-sm text-muted-foreground"},ut={key:0},mt={key:1},ft={class:"px-4 py-3"},ct={class:"text-sm"},pt={class:"px-4 py-3"},gt={class:"flex gap-2"},xt={class:"px-4 py-3"},ht={class:"flex items-center justify-end gap-2"},vt={key:0},bt={key:0,class:"mt-4 flex items-center justify-between"},_t={class:"text-sm text-muted-foreground"},yt={class:"flex gap-2"},Jt=N({__name:"Index",props:{blogs:{},filters:{},categories:{}},setup(o){const v=o,A=[{title:"Dashboard",href:"/cp/dashboard"},{title:"Blogs",href:"#"}],b=_(v.filters.search||""),f=_(v.filters.status||"all"),c=_(v.filters.category||"all"),p=()=>{h.get("/cp/blogs",{search:b.value||void 0,status:f.value!=="all"?f.value:void 0,category:c.value!=="all"?c.value:void 0},{preserveState:!0,replace:!0})},D=$=>{confirm("Are you sure you want to delete this blog post?")&&h.delete(`/cp/blogs/${$}`,{preserveScroll:!0})};return($,e)=>(r(),i(w,null,[a(s(z),{title:"Blogs"}),a(T,{breadcrumbs:A},{default:d(()=>[t("div",J,[t("div",O,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-bold"},"Blog Posts"),t("p",{class:"text-muted-foreground"},"Manage your blog posts")],-1)),a(s(m),{"as-child":""},{default:d(()=>[a(s(y),{href:"/cp/blogs/create"},{default:d(()=>[a(s(q),{class:"mr-2 h-4 w-4"}),e[5]||(e[5]=u(" Add Blog Post ",-1))]),_:1})]),_:1})]),a(s(B),null,{default:d(()=>[a(s(V),{class:"pt-6"},{default:d(()=>[t("div",Q,[t("div",R,[t("div",W,[a(s(I),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(M),{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=l=>b.value=l),placeholder:"Search blogs...",class:"pl-9",onKeyup:F(p,["enter"])},null,8,["modelValue"])])]),S(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>f.value=l),class:"h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs",onChange:p},[...e[7]||(e[7]=[t("option",{value:"all"},"All Status",-1),t("option",{value:"published"},"Published",-1),t("option",{value:"draft"},"Draft",-1),t("option",{value:"featured"},"Featured",-1)])],544),[[C,f.value]]),o.categories.length>0?S((r(),i("select",{key:0,"onUpdate:modelValue":e[2]||(e[2]=l=>c.value=l),class:"h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs",onChange:p},[e[8]||(e[8]=t("option",{value:"all"},"All Categories",-1)),(r(!0),i(w,null,P(o.categories,l=>(r(),i("option",{key:l,value:l},n(l),9,X))),128))],544)),[[C,c.value]]):g("",!0),a(s(m),{onClick:p},{default:d(()=>[...e[9]||(e[9]=[u("Search",-1)])]),_:1})])]),_:1})]),_:1}),a(s(B),null,{default:d(()=>[a(s(U),null,{default:d(()=>[a(s(E),null,{default:d(()=>[u("All Blog Posts ("+n(o.blogs.total)+")",1)]),_:1})]),_:1}),a(s(V),null,{default:d(()=>[t("div",Y,[t("table",Z,[e[14]||(e[14]=t("thead",null,[t("tr",{class:"border-b"},[t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Blog Post"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Author"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Category"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Published"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Views"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Status"),t("th",{class:"px-4 py-3 text-right text-sm font-medium"},"Actions")])],-1)),t("tbody",null,[(r(!0),i(w,null,P(o.blogs.data,l=>(r(),i("tr",{key:l.id,class:"border-b hover:bg-muted/50"},[t("td",tt,[t("div",et,[l.featured_image?(r(),i("div",{key:0,class:"h-12 w-12 rounded-md bg-muted bg-cover bg-center",style:j({backgroundImage:`url(${l.featured_image})`})},null,4)):(r(),x(s(K),{key:1,class:"h-12 w-12 rounded-md bg-muted p-2 text-muted-foreground"})),t("div",null,[t("div",st,n(l.title),1),t("div",lt,n(l.slug),1)])])]),t("td",at,[t("span",ot,n(l.author||"N/A"),1)]),t("td",dt,[t("span",rt,n(l.category||"Uncategorized"),1)]),t("td",it,[t("span",nt,[l.published_at?(r(),i("span",ut,n(new Date(l.published_at).toLocaleDateString()),1)):(r(),i("span",mt,"Not published"))])]),t("td",ft,[t("span",ct,n(l.views),1)]),t("td",pt,[t("div",gt,[l.is_published?(r(),x(s(k),{key:0,variant:"default"},{default:d(()=>[...e[10]||(e[10]=[u(" Published ",-1)])]),_:1})):(r(),x(s(k),{key:1,variant:"secondary"},{default:d(()=>[...e[11]||(e[11]=[u(" Draft ",-1)])]),_:1})),l.is_featured?(r(),x(s(k),{key:2,variant:"outline"},{default:d(()=>[...e[12]||(e[12]=[u(" Featured ",-1)])]),_:1})):g("",!0)])]),t("td",xt,[t("div",ht,[a(s(m),{variant:"ghost",size:"icon-sm","as-child":""},{default:d(()=>[a(s(y),{href:`/cp/blogs/${l.id}`},{default:d(()=>[a(s(L),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),a(s(m),{variant:"ghost",size:"icon-sm","as-child":""},{default:d(()=>[a(s(y),{href:`/cp/blogs/${l.id}/edit`},{default:d(()=>[a(s(G),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),a(s(m),{variant:"ghost",size:"icon-sm",onClick:wt=>D(l.id)},{default:d(()=>[a(s(H),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])])]))),128)),o.blogs.data.length===0?(r(),i("tr",vt,[...e[13]||(e[13]=[t("td",{colspan:"7",class:"px-4 py-8 text-center text-muted-foreground"}," No blog posts found ",-1)])])):g("",!0)])])]),o.blogs.last_page>1?(r(),i("div",bt,[t("div",_t," Showing "+n((o.blogs.current_page-1)*o.blogs.per_page+1)+" to "+n(Math.min(o.blogs.current_page*o.blogs.per_page,o.blogs.total))+" of "+n(o.blogs.total)+" results ",1),t("div",yt,[a(s(m),{variant:"outline",size:"sm",disabled:o.blogs.current_page===1,onClick:e[3]||(e[3]=l=>s(h).get(o.blogs.current_page>1?`/cp/blogs?page=${o.blogs.current_page-1}`:"#"))},{default:d(()=>[...e[15]||(e[15]=[u(" Previous ",-1)])]),_:1},8,["disabled"]),a(s(m),{variant:"outline",size:"sm",disabled:o.blogs.current_page===o.blogs.last_page,onClick:e[4]||(e[4]=l=>s(h).get(o.blogs.current_page<o.blogs.last_page?`/cp/blogs?page=${o.blogs.current_page+1}`:"#"))},{default:d(()=>[...e[16]||(e[16]=[u(" Next ",-1)])]),_:1},8,["disabled"])])])):g("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{Jt as default};
