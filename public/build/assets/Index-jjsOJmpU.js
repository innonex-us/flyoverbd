import{d as D,r as v,c as u,a,b as o,h as j,w as n,e as t,l as y,f as d,j as k,n as F,p as w,t as i,i as S,o as m,F as C,k as z,s as h}from"./app-BNL6yBpj.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-B1YP6mHh.js";import{_ as $,a as B}from"./CardContent.vue_vue_type_script_setup_true_lang-ChgRXIJl.js";import{_ as M,a as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-VNAzxZ0O.js";import{_ as c}from"./index-LkZ3l7_t.js";import{_ as U}from"./Input.vue_vue_type_script_setup_true_lang-Bnp9nIXL.js";import{_ as P}from"./index-PIWuVvZK.js";import{P as I}from"./plus-COXbxmmj.js";import{S as K}from"./search-CXxsL-hS.js";import{E as R}from"./eye-DbdBUe0B.js";import"./utils-kKsk6u8f.js";import"./index-Bgd5ffrM.js";import"./VisuallyHidden-CV_5suY1.js";import"./useForwardExpose-BI-Vxx6w.js";import"./useForwardPropsEmits-DjVx8U1f.js";import"./index-KXJrcCIR.js";import"./createLucideIcon-CvYpObmL.js";import"./x-CTgYV9Wi.js";import"./globe-ibZpHMLy.js";import"./file-text-D7GmGOl_.js";import"./calendar-Yvk0uyD6.js";const L={class:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4"},q={class:"flex items-center justify-between"},G={class:"flex flex-col gap-4 md:flex-row md:items-center"},H={class:"flex-1"},J={class:"relative"},O={class:"overflow-x-auto"},Q={class:"w-full"},W={class:"px-4 py-3"},X={class:"font-mono text-sm"},Y={class:"px-4 py-3"},Z={class:"font-medium"},tt={class:"text-xs text-muted-foreground"},et={class:"px-4 py-3"},st={class:"text-sm"},ot={class:"px-4 py-3"},at={class:"text-sm"},lt={class:"px-4 py-3"},nt={class:"font-medium"},it={class:"text-xs text-muted-foreground"},dt={class:"px-4 py-3"},rt={class:"flex flex-col gap-1"},ut={class:"px-4 py-3"},mt={class:"flex items-center justify-end gap-2"},ct={key:0},ft={key:0,class:"mt-4 flex items-center justify-between"},pt={class:"text-sm text-muted-foreground"},gt={class:"flex gap-2"},Mt=D({__name:"Index",props:{bookings:{},filters:{}},setup(l){const x=l,V=[{title:"Dashboard",href:"/cp/dashboard"},{title:"Bookings",href:"#"}],_=v(x.filters.search||""),f=v(x.filters.booking_status||"all"),p=v(x.filters.payment_status||"all"),g=()=>{h.get("/cp/bookings",{search:_.value||void 0,booking_status:f.value!=="all"?f.value:void 0,payment_status:p.value!=="all"?p.value:void 0},{preserveState:!0,replace:!0})},b=(r,e="BDT")=>new Intl.NumberFormat("en-BD",{style:"currency",currency:e,minimumFractionDigits:0}).format(r),N=r=>({pending:"secondary",confirmed:"default",cancelled:"destructive",completed:"default"})[r]||"default",A=r=>({pending:"secondary",partial:"outline",paid:"default",refunded:"destructive"})[r]||"default";return(r,e)=>(m(),u(C,null,[a(o(j),{title:"Bookings"}),a(E,{breadcrumbs:V},{default:n(()=>[t("div",L,[t("div",q,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-bold"},"Bookings"),t("p",{class:"text-muted-foreground"},"Manage tour bookings")],-1)),a(o(c),{"as-child":""},{default:n(()=>[a(o(y),{href:"/cp/bookings/create"},{default:n(()=>[a(o(I),{class:"mr-2 h-4 w-4"}),e[5]||(e[5]=d(" Add Booking ",-1))]),_:1})]),_:1})]),a(o($),null,{default:n(()=>[a(o(B),{class:"pt-6"},{default:n(()=>[t("div",G,[t("div",H,[t("div",J,[a(o(K),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(o(U),{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=s=>_.value=s),placeholder:"Search bookings...",class:"pl-9",onKeyup:F(g,["enter"])},null,8,["modelValue"])])]),k(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>f.value=s),class:"h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs",onChange:g},[...e[7]||(e[7]=[t("option",{value:"all"},"All Booking Status",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"confirmed"},"Confirmed",-1),t("option",{value:"cancelled"},"Cancelled",-1),t("option",{value:"completed"},"Completed",-1)])],544),[[w,f.value]]),k(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>p.value=s),class:"h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-xs",onChange:g},[...e[8]||(e[8]=[t("option",{value:"all"},"All Payment Status",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"partial"},"Partial",-1),t("option",{value:"paid"},"Paid",-1),t("option",{value:"refunded"},"Refunded",-1)])],544),[[w,p.value]]),a(o(c),{onClick:g},{default:n(()=>[...e[9]||(e[9]=[d("Search",-1)])]),_:1})])]),_:1})]),_:1}),a(o($),null,{default:n(()=>[a(o(M),null,{default:n(()=>[a(o(T),null,{default:n(()=>[d("All Bookings ("+i(l.bookings.total)+")",1)]),_:1})]),_:1}),a(o(B),null,{default:n(()=>[t("div",O,[t("table",Q,[e[11]||(e[11]=t("thead",null,[t("tr",{class:"border-b"},[t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Reference"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Customer"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Tour"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Participants"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Amount"),t("th",{class:"px-4 py-3 text-left text-sm font-medium"},"Status"),t("th",{class:"px-4 py-3 text-right text-sm font-medium"},"Actions")])],-1)),t("tbody",null,[(m(!0),u(C,null,z(l.bookings.data,s=>(m(),u("tr",{key:s.id,class:"border-b hover:bg-muted/50"},[t("td",W,[t("div",X,i(s.booking_reference),1)]),t("td",Y,[t("div",null,[t("div",Z,i(s.customer_name),1),t("div",tt,i(s.customer_email),1)])]),t("td",et,[t("span",st,i(s.tour?.title||"N/A"),1)]),t("td",ot,[t("span",at,i(s.number_of_participants),1)]),t("td",lt,[t("div",null,[t("div",nt,i(b(s.total_amount,s.currency)),1),t("div",it," Paid: "+i(b(s.paid_amount,s.currency)),1)])]),t("td",dt,[t("div",rt,[a(o(P),{variant:N(s.booking_status)},{default:n(()=>[d(i(s.booking_status),1)]),_:2},1032,["variant"]),a(o(P),{variant:A(s.payment_status)},{default:n(()=>[d(i(s.payment_status),1)]),_:2},1032,["variant"])])]),t("td",ut,[t("div",mt,[a(o(c),{variant:"ghost",size:"icon-sm","as-child":""},{default:n(()=>[a(o(y),{href:`/cp/bookings/${s.id}`},{default:n(()=>[a(o(R),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024)])])]))),128)),l.bookings.data.length===0?(m(),u("tr",ct,[...e[10]||(e[10]=[t("td",{colspan:"7",class:"px-4 py-8 text-center text-muted-foreground"}," No bookings found ",-1)])])):S("",!0)])])]),l.bookings.last_page>1?(m(),u("div",ft,[t("div",pt," Showing "+i((l.bookings.current_page-1)*l.bookings.per_page+1)+" to "+i(Math.min(l.bookings.current_page*l.bookings.per_page,l.bookings.total))+" of "+i(l.bookings.total)+" results ",1),t("div",gt,[a(o(c),{variant:"outline",size:"sm",disabled:l.bookings.current_page===1,onClick:e[3]||(e[3]=s=>o(h).get(l.bookings.current_page>1?`/cp/bookings?page=${l.bookings.current_page-1}`:"#"))},{default:n(()=>[...e[12]||(e[12]=[d(" Previous ",-1)])]),_:1},8,["disabled"]),a(o(c),{variant:"outline",size:"sm",disabled:l.bookings.current_page===l.bookings.last_page,onClick:e[4]||(e[4]=s=>o(h).get(l.bookings.current_page<l.bookings.last_page?`/cp/bookings?page=${l.bookings.current_page+1}`:"#"))},{default:n(()=>[...e[13]||(e[13]=[d(" Next ",-1)])]),_:1},8,["disabled"])])])):S("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{Mt as default};
