import{a5 as D,ab as q,r as p,y as C,ac as Y,I as F,J as z,B as J,d as _,L,a3 as Q,$ as R,K as W,ad as X,m as j,o as B,w as x,a as Z,b as T,M as k}from"./app-CP1-r0BK.js";import{r as ee,S as N,P as V}from"./index-DjTBur_r.js";import{p as te,i as ne,e as G,f as ae}from"./index--o4npdfR.js";function K(e,t){const a=typeof e=="string"&&!t?`${e}Context`:t,n=Symbol(a);return[c=>{const u=D(n,c);if(u||u===null)return u;throw new Error(`Injection \`${n.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},c=>(q(n,c),c)]}function P(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Ee(e){return e==null}const[re]=K("ConfigProvider");function oe(e){const t=re({dir:p("ltr")});return C(()=>{var a;return(e==null?void 0:e.value)||((a=t.dir)==null?void 0:a.value)||"ltr"})}function Ie(e,t="reka"){var a;return`${t}-${(a=Y)==null?void 0:a()}`}function ie(e,t){const a=p(e);function n(f){return t[a.value][f]??a.value}return{state:a,dispatch:f=>{a.value=n(f)}}}function se(e,t){var A;const a=p({}),n=p("none"),l=p(e),f=e.value?"mounted":"unmounted";let c;const u=((A=t.value)==null?void 0:A.ownerDocument.defaultView)??te,{state:m,dispatch:d}=ie(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),s=o=>{var i;if(ne){const h=new CustomEvent(o,{bubbles:!1,cancelable:!1});(i=t.value)==null||i.dispatchEvent(h)}};F(e,async(o,i)=>{var E;const h=i!==o;if(await z(),h){const w=n.value,I=M(t.value);o?(d("MOUNT"),s("enter"),I==="none"&&s("after-enter")):I==="none"||I==="undefined"||((E=a.value)==null?void 0:E.display)==="none"?(d("UNMOUNT"),s("leave"),s("after-leave")):i&&w!==I?(d("ANIMATION_OUT"),s("leave")):(d("UNMOUNT"),s("after-leave"))}},{immediate:!0});const r=o=>{const i=M(t.value),h=i.includes(CSS.escape(o.animationName)),E=m.value==="mounted"?"enter":"leave";if(o.target===t.value&&h&&(s(`after-${E}`),d("ANIMATION_END"),!l.value)){const w=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",c=u==null?void 0:u.setTimeout(()=>{var I;((I=t.value)==null?void 0:I.style.animationFillMode)==="forwards"&&(t.value.style.animationFillMode=w)})}o.target===t.value&&i==="none"&&d("ANIMATION_END")},v=o=>{o.target===t.value&&(n.value=M(t.value))},g=F(t,(o,i)=>{o?(a.value=getComputedStyle(o),o.addEventListener("animationstart",v),o.addEventListener("animationcancel",r),o.addEventListener("animationend",r)):(d("ANIMATION_END"),c!==void 0&&(u==null||u.clearTimeout(c)),i==null||i.removeEventListener("animationstart",v),i==null||i.removeEventListener("animationcancel",r),i==null||i.removeEventListener("animationend",r))},{immediate:!0}),y=F(m,()=>{const o=M(t.value);n.value=m.value==="mounted"?o:"none"});return J(()=>{g(),y()}),{isPresent:C(()=>["mounted","unmountSuspended"].includes(m.value))}}function M(e){return e&&getComputedStyle(e).animationName||"none"}var Se=_({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:a}){var d;const{present:n,forceMount:l}=L(e),f=p(),{isPresent:c}=se(n,f);a({present:c});let u=t.default({present:c.value});u=ee(u||[]);const m=Q();if(u&&(u==null?void 0:u.length)>1){const s=(d=m==null?void 0:m.parent)!=null&&d.type.name?`<${m.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${s}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(r=>`  - ${r}`).join(`
`)].join(`
`))}return()=>l.value||n.value||c.value?R(t.default({present:c.value})[0],{ref:s=>{const r=G(s);return typeof(r==null?void 0:r.hasAttribute)>"u"||(r!=null&&r.hasAttribute("data-reka-popper-content-wrapper")?f.value=r.firstElementChild:f.value=r),r}}):null}});function $(){const e=p(),t=C(()=>{var a,n;return["#text","#comment"].includes((a=e.value)==null?void 0:a.$el.nodeName)?(n=e.value)==null?void 0:n.$el.nextElementSibling:G(e)});return{primitiveElement:e,currentElement:t}}const U="data-reka-collection-item";function ue(e={}){const{key:t="",isProvider:a=!1}=e,n=`${t}CollectionProvider`;let l;if(a){const s=p(new Map);l={collectionRef:p(),itemMap:s},q(n,l)}else l=D(n);const f=(s=!1)=>{const r=l.collectionRef.value;if(!r)return[];const v=Array.from(r.querySelectorAll(`[${U}]`)),y=Array.from(l.itemMap.value.values()).sort((b,A)=>v.indexOf(b.ref)-v.indexOf(A.ref));return s?y:y.filter(b=>b.ref.dataset.disabled!=="")},c=_({name:"CollectionSlot",setup(s,{slots:r}){const{primitiveElement:v,currentElement:g}=$();return F(g,()=>{l.collectionRef.value=g.value}),()=>R(N,{ref:v},r)}}),u=_({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(s,{slots:r,attrs:v}){const{primitiveElement:g,currentElement:y}=$();return W(b=>{if(y.value){const A=X(y.value);l.itemMap.value.set(A,{ref:y.value,value:s.value}),b(()=>l.itemMap.value.delete(A))}}),()=>R(N,{...v,[U]:"",ref:g},r)}}),m=C(()=>Array.from(l.itemMap.value.values())),d=C(()=>l.itemMap.value.size);return{getItems:f,reactiveItems:m,itemMapSize:d,CollectionSlot:c,CollectionItem:u}}const le="rovingFocusGroup.onEntryFocus",ce={bubbles:!1,cancelable:!0},de={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function be(e,t,a){const n=fe(e.key,a);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return de[n]}function me(e,t=!1){const a=P();for(const n of e)if(n===a||(n.focus({preventScroll:t}),P()!==a))return}function we(e,t){return e.map((a,n)=>e[(t+n)%e.length])}const[Te,ve]=K("RovingFocusGroup");var pe=_({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:t,emit:a}){const n=e,l=a,{loop:f,orientation:c,dir:u}=L(n),m=oe(u),d=ae(n,"currentTabStopId",l,{defaultValue:n.defaultCurrentTabStopId,passive:n.currentTabStopId===void 0}),s=p(!1),r=p(!1),v=p(0),{getItems:g,CollectionSlot:y}=ue({isProvider:!0});function b(o){const i=!r.value;if(o.currentTarget&&o.target===o.currentTarget&&i&&!s.value){const h=new CustomEvent(le,ce);if(o.currentTarget.dispatchEvent(h),l("entryFocus",h),!h.defaultPrevented){const E=g().map(S=>S.ref).filter(S=>S.dataset.disabled!==""),w=E.find(S=>S.getAttribute("data-active")===""),I=E.find(S=>S.getAttribute("data-highlighted")===""),O=E.find(S=>S.id===d.value),H=[w,I,O,...E].filter(Boolean);me(H,n.preventScrollOnEntryFocus)}}r.value=!1}function A(){setTimeout(()=>{r.value=!1},1)}return t({getItems:g}),ve({loop:f,dir:m,orientation:c,currentTabStopId:d,onItemFocus:o=>{d.value=o},onItemShiftTab:()=>{s.value=!0},onFocusableItemAdd:()=>{v.value++},onFocusableItemRemove:()=>{v.value--}}),(o,i)=>(B(),j(T(y),null,{default:x(()=>[Z(T(V),{tabindex:s.value||v.value===0?-1:0,"data-orientation":T(c),as:o.as,"as-child":o.asChild,dir:T(m),style:{outline:"none"},onMousedown:i[0]||(i[0]=h=>r.value=!0),onMouseup:A,onFocus:b,onBlur:i[1]||(i[1]=h=>s.value=!1)},{default:x(()=>[k(o.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),Ce=pe,he=_({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return(t,a)=>(B(),j(T(V),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:x(()=>[k(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),_e=he;export{Se as P,Ce as R,_e as V,Ee as a,oe as b,K as c,ue as d,Te as e,be as f,P as g,me as h,re as i,$ as j,Ie as u,we as w};
